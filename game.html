<html>
          <head>
                <title>Doll Dress Up Game</title>
            </head>
            
            <body>
                <img id='doll' src='doll.jpg' style='position:absolute; display: none;' />
                <canvas id="drawing" style="border:1px solid #000000;">
                <img id='dress' src='dress.jpg' style='display:none; position:absolute;' />
                <img id='pants' src='pants.jpg' style='display:none; position:absolute;' />
                
            </canvas>
            
            <script type="text/javascript">
                var canvas = document.getElementById('drawing');
                canvas.width = 1000;
                canvas.height = 700;
                var context = canvas.getContext("2d");
                var drag = null;
                var dress = document.getElementById('dress');
                var pants = document.getElementById('pants');

                var images = [dress, pants];
                    
                canvas.onmousedown = grabImage;
                
                function grabImage(e){
                                
                    for( i = 0; i < images.length; i++ ){
                        var source = images[i];
                        console.log( source.clientX + " " + source.width);
                        if( e.clientX >= source.clientX && e.clientX <= (source.clientX + source.width) ){
                            //if( e.clientY >= source.clientY && e.clientY <= source.clientHeight + source.clientY )
                                source.style.position = 'absolute';
                                console.log(source);
                                drag = source;
                        }
                    }
                }
                function dragImage(e) {
                    if( drag != null ){
                        drag.style.position = 'absolute';
                        drag.clientX = e.clientX - 100;
                        drag.clientY = e.clientY - 100;
                        make_base();
                    }
                }
                function dropImage(e){
                    drag = null;
                }
            function init() {
                var dress = document.getElementById('dress');
                dress.clientX = canvas.width - 460;
                dress.clientY = 110;
                pants.clientX = canvas.width - 250;
                pants.clientY = 310;
                make_base();
            }
            function make_base()
            {
                context.clearRect(0,0, canvas.width, canvas.height);
                var img = document.getElementById('doll');
                context.drawImage(img, 40, 20, 350, 640);
                img.mozImageSmoothingEnabled = true;
                img.webkitImageSmoothingEnabled = true;
                img.msImageSmoothingEnabled = true;
                img.imageSmoothingEnabled = true;
                context.font = "30px Cambria";
                context.fillText("YOUR MODEL",15,50);
                context.font = "30px Cambria";
                context.fillText("YOUR CLOSET",580,50);
                context.font = "19px Cambria";
                context.fillText("hint: drag and drop clothes to style her!",535,80);
                context.drawImage(dress, dress.clientX, dress.clientY, 140, 225);
                context.drawImage(pants, pants.clientX, pants.clientY, 140, 225);
            }
            window.onload = init;
            canvas.addEventListener('mousedown', grabImage, true);
            canvas.addEventListener('mousemove', dragImage, true);
            canvas.addEventListener('mouseup',dropImage, true);
    </script>
 </body>
</html>